!!!
%html
  %head
    %meta{'http-equiv' => "Content-type", :content => "text/html;charset=utf-8"}/
    %link{:href =>"/stylesheets/reset.css", :media => "screen", :rel => "stylesheet", :type => "text/css"}
    %link{:href => "/stylesheets/style.css", :media => "screen", :rel => "stylesheet", :type => "text/css"}
    %link{:href =>"/stylesheets/style_panel.css", :media => "screen", :rel => "stylesheet", :type => "text/css"}
    %link{:rel => "alternate", :href => @rss_url, :type => "application/rss+xml", :title => "", :id => "gallery"}
    %script{:type => "text/javascript", :src => "/js/jquery-1.3.2.js"}
    %script{:type => "text/javascript", :src => "/js/jquery-ui-1.7.2.js"}
    %script{:type => "text/javascript", :src => "/js/main_script.js"}
    - if @style == "panel"
      %script{:type => "text/javascript", :src => "/js/panel_script.js"}
  %title UCLA Digital Collection
  %body
    #menu-wrapper
      %p#title
        UCLA Images collection
      %form#search{:action => "/", :method => "get"}
        %input{:type => "hidden", :name => "st", :value => @style}
        %div#query
          %label Search for
          %input{:type => "text", :name => "q", :value => @query}
          %label= "in #{sources_display}"
        =partial :filter
      #menu
        #switch
          Switch styles:
          - %w(grid list panel).each do |style|
            - if style == @style
              = style.capitalize
            - else
              %a{:href => "#{@url_minus_style}&st=#{style}"}= style.capitalize
    = yield
    #bottom>
      %a{:href => "http://github.com/pangel/collections/issues"} Something wrong? Click here!